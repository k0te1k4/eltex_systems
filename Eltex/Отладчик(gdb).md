Использованные материалы:
- [[Функции]]
- [[Study/Eltex/C/Указатели]]
# Команды
`help` - список команд
`help команда` - описание и документация по конкретной команде
`run или r` - запуск программы
`disassemble` - дамп кода программы
`<Enter>` - повтор предыдущей команды
`x/No(b) ADDR` - вывести `N` байт, начиная с `ADDR`
	`o` - основание системы счисления, например b - двоичная, d - десятичная, x - шестнадцатеричная. 
	`b` - разделить вывод по байтам (опционально)
	Например `x/136xb 0x7fffffffe1e8` - вывести 136 байт в шестнадцатеричной сс, разделенные по байтам. Начиная с адреса 0x7fffffffe1e8
## Точки останова
`break | br <адрес>` - поставить точку останова
`info break` - посмотреть все точки останова
`delete <номер>` - удалить точку останова
`disable <номер>` - отключить точку останова
## Пошаговый режим(машинный код)
**При возникновении ошибки пошаговый режим включается автоматически**
`ni` - следующая инструкция

# Отладочная информация
## Важно
Чтобы добавить отладочную информацию, нужно при сборке добавить флаг `-g`
Если собирается программа сразу, то флаг ставится в конце: `gcc prog.c -o prog -g`

Если собирается сначала объектный модуль, а потом программа из него, то **отладочную информацию нужно добавить на этапе создания объектного модуля**
```bash
gcc prog.c -c -g # получили prog.o
gcc prog.o -o prog 
```

## Точки останова с отладочной информацией
Когда есть отладочная информация, при создании точки останова будет показываться номер строки исходной программы в файле `.c`, а также сама строка.

## Команды с отладочной информацией
`list` - посмотреть исходный код программы
`print <элемент>` - вывести значение переменной/указателя/адреса итд
`backtrace` - показывает функцию, в которой сейчас находится, а также все родительские функции и места входа
```gdb
(gdb) backtrace
#0 my func () at test_gdb.c:4 
#1 0x00...184 in main() at test_gdb.c:14
(gdb) _
```

`set variable <var>` - указать значение переменной
### Пошаговый режим
`next` - выполняет всю строку(например 10 машинных инструкций), шаг без захода
`step` - шаг с заходом в функцию
	 **Если для файла, в котором лежит функция, нет отладочной информации, может работать только с машинными инструкциями**
`fini` - выход из функции
`continue` - продолжить выполнение до следующей точки останова

